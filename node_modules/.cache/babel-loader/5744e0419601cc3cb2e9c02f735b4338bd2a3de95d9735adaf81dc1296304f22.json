{"ast":null,"code":"import _objectSpread from\"C:/Users/Bill Smithingell/Downloads/electrasim/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useMemo,useState}from\"react\";import CircuitView from\"./components/CircuitView\";import{calcCircuit,clamp,round1,round2}from\"./logic/electrical\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DEFAULT_LOADS=Array.from({length:5}).map(()=>({rUser:6,fault:\"normal\"}));const QUIZ_TOTAL_QUESTIONS=10;function uid(){return Math.random().toString(36).slice(2,10);}function parseStudentNumber(raw){if(!raw)return null;const cleaned=raw.toLowerCase().replace(/,/g,\"\").replace(/ohms/g,\"\").replace(/omega/g,\"\").replace(/[a-zΩ]/g,\" \").trim();const m=cleaned.match(/-?\\d+(\\.\\d+)?/);if(!m)return null;const n=Number(m[0]);return Number.isFinite(n)?n:null;}function withinTol(val,correct,tol){return Math.abs(val-correct)<=tol;}function tolFor(unit){if(unit===\"A\")return 0.02;if(unit===\"V\")return 0.02;if(unit===\"Ω\")return 0.05;return 0.5;// W\n}function fmt(n){// keep it readable, not “calculator vomit”\nreturn Number.isFinite(n)?String(round2(n)):\"∞\";}function cloneLoads(loads,n){return loads.slice(0,n).map(l=>({rUser:l.rUser,fault:l.fault}));}/* =========================\n   Question Builder\n   ========================= */function buildQuestion(difficulty,snap,calc){const id=uid();const ct=snap.circuitType;const parts=[];let title=\"\";let prompt=\"\";const Rtotal=calc.totalR;const Itotal=calc.totalI;const Ptotal=calc.totalP;// helpers for formulas/substitution\nconst fI=\"I = V / Rtotal\";const sI=\"I = \".concat(fmt(snap.sourceV),\" / \").concat(fmt(Rtotal));const fP=\"P = V × I\";const sP=\"P = \".concat(fmt(snap.sourceV),\" \\xD7 \").concat(fmt(Itotal));if(difficulty===\"beginner\"){// pick a single-part question that makes sense for the circuit type\nconst options=[];options.push(\"Rtotal\",\"Itotal\",\"Ptotal\");if(ct===\"series\"&&calc.rows.length>=1)options.push(\"Vdrop1\");if(ct===\"parallel\"&&calc.rows.length>=1)options.push(\"Ibranch1\");const pick=options[Math.floor(Math.random()*options.length)];if(pick===\"Rtotal\"){var _calc$rows$0$r,_calc$rows$;title=\"Find Total Resistance\";prompt=\"Calculate the total resistance of the circuit.\";parts.push({id:\"rtotal\",label:\"Rtotal\",unit:\"Ω\",formula:ct===\"parallel\"?\"1/Rtotal = 1/R1 + 1/R2 + …\":ct===\"series\"?\"Rtotal = R1 + R2 + …\":\"Rtotal = R1\",substitution:ct===\"parallel\"?\"1/Rtotal = \".concat(calc.rows.map(r=>Number.isFinite(r.r)?\"1/\".concat(fmt(r.r)):\"0\").join(\" + \")):ct===\"series\"?\"Rtotal = \".concat(calc.rows.map(r=>fmt(r.r)).join(\" + \")):\"Rtotal = \".concat(fmt((_calc$rows$0$r=(_calc$rows$=calc.rows[0])===null||_calc$rows$===void 0?void 0:_calc$rows$.r)!==null&&_calc$rows$0$r!==void 0?_calc$rows$0$r:Rtotal)),correct:Number.isFinite(Rtotal)?Rtotal:0,tol:tolFor(\"Ω\")});}else if(pick===\"Itotal\"){title=\"Find Total Current\";prompt=\"Calculate total current in the circuit.\";parts.push({id:\"itotal\",label:\"Itotal\",unit:\"A\",formula:fI,substitution:sI,correct:Itotal,tol:tolFor(\"A\")});}else if(pick===\"Ptotal\"){title=\"Find Total Power\";prompt=\"Calculate total power in the circuit.\";parts.push({id:\"ptotal\",label:\"Ptotal\",unit:\"W\",formula:fP,substitution:sP,correct:Ptotal,tol:tolFor(\"W\")});}else if(pick===\"Vdrop1\"){const r0=calc.rows[0];title=\"Find Voltage Drop (Load 1)\";prompt=\"In a series circuit, voltage drop across a load is V = I × R.\";parts.push({id:\"v1\",label:\"V1\",unit:\"V\",formula:\"Vn = I × Rn\",substitution:\"V1 = \".concat(fmt(Itotal),\" \\xD7 \").concat(fmt(r0.r)),correct:r0.v,tol:tolFor(\"V\")});}else{const r0=calc.rows[0];title=\"Find Branch Current (Load 1)\";prompt=\"In a parallel circuit, branch current is In = V / Rn.\";parts.push({id:\"i1\",label:\"I1\",unit:\"A\",formula:\"In = V / Rn\",substitution:\"I1 = \".concat(fmt(snap.sourceV),\" / \").concat(fmt(r0.r)),correct:r0.i,tol:tolFor(\"A\")});}}else{var _calc$rows$0$r2,_calc$rows$2;// Experienced: multi-part full circuit solve\ntitle=\"Full Circuit Calculation\";prompt=ct===\"series\"?\"Solve the series circuit: Rtotal, Itotal, and voltage drop(s).\":ct===\"parallel\"?\"Solve the parallel circuit: Rtotal, Itotal, and branch current(s).\":\"Solve the circuit: Rtotal, Itotal, and power.\";// Part 1: Rtotal\nparts.push({id:\"rtotal\",label:\"Rtotal\",unit:\"Ω\",formula:ct===\"parallel\"?\"1/Rtotal = 1/R1 + 1/R2 + …\":ct===\"series\"?\"Rtotal = R1 + R2 + …\":\"Rtotal = R1\",substitution:ct===\"parallel\"?\"1/Rtotal = \".concat(calc.rows.map(r=>Number.isFinite(r.r)?\"1/\".concat(fmt(r.r)):\"0\").join(\" + \")):ct===\"series\"?\"Rtotal = \".concat(calc.rows.map(r=>fmt(r.r)).join(\" + \")):\"Rtotal = \".concat(fmt((_calc$rows$0$r2=(_calc$rows$2=calc.rows[0])===null||_calc$rows$2===void 0?void 0:_calc$rows$2.r)!==null&&_calc$rows$0$r2!==void 0?_calc$rows$0$r2:Rtotal)),correct:Number.isFinite(Rtotal)?Rtotal:0,tol:tolFor(\"Ω\")});// Part 2: Itotal\nparts.push({id:\"itotal\",label:\"Itotal\",unit:\"A\",formula:fI,substitution:sI,correct:Itotal,tol:tolFor(\"A\")});// Part 3+: per-load based on circuit type\nif(ct===\"series\"){// ask for Vdrops for each load (more boxes = more points, still fair)\ncalc.rows.forEach((r,idx)=>{parts.push({id:\"v\".concat(idx+1),label:\"V\".concat(idx+1,\" (Load \").concat(idx+1,\")\"),unit:\"V\",formula:\"Vn = I × Rn\",substitution:\"V\".concat(idx+1,\" = \").concat(fmt(Itotal),\" \\xD7 \").concat(fmt(r.r)),correct:r.v,tol:tolFor(\"V\")});});}else if(ct===\"parallel\"){calc.rows.forEach((r,idx)=>{parts.push({id:\"i\".concat(idx+1),label:\"I\".concat(idx+1,\" (Load \").concat(idx+1,\")\"),unit:\"A\",formula:\"In = V / Rn\",substitution:\"I\".concat(idx+1,\" = \").concat(fmt(snap.sourceV),\" / \").concat(fmt(r.r)),correct:r.i,tol:tolFor(\"A\")});});}else{// simple\nparts.push({id:\"ptotal\",label:\"Ptotal\",unit:\"W\",formula:fP,substitution:sP,correct:Ptotal,tol:tolFor(\"W\")});}}// make sure we never generate a question where everything is “0” by design\n// (you said switch open should block questions, so this is mostly fault edge-cases)\nif(parts.every(p=>Math.abs(p.correct)<0.000001)){// fall back to total resistance question (still valid)\nreturn buildQuestion(\"beginner\",snap,calc);}return{id,title,prompt,parts,snapshot:snap,calc};}/* =========================\n   Quiz Scenario Generator\n   ========================= */function randomStep05(min,max){const steps=Math.round((max-min)/0.5);const k=Math.floor(Math.random()*(steps+1));return min+k*0.5;}function pickFaultForQuiz(ct,idx){// Keep it challenging but not “everyone answers 0”.\n// - Disallow OPEN in simple/series (too trivial)\n// - Allow OPEN in parallel (branch open is realistic)\n// - Allow at most one SHORT\nconst r=Math.random();if(r<0.72)return\"normal\";if(r<0.87)return\"high\";if(ct===\"parallel\"){// sometimes open branch\nreturn r<0.94?\"open\":\"short\";}// series/simple: no open\nreturn\"short\";}function generateQuizScenario(){const ctPick=Math.random();const circuitType=ctPick<0.25?\"simple\":ctPick<0.6?\"series\":\"parallel\";const loadCount=circuitType===\"simple\"?1:2+Math.floor(Math.random()*4);const loads=[];let shortCount=0;for(let i=0;i<loadCount;i++){const rUser=randomStep05(1,25);let fault=pickFaultForQuiz(circuitType,i);if(fault===\"short\"){shortCount++;if(shortCount>1)fault=\"high\";// cap shorts\n}loads.push({rUser,fault});}// In parallel, avoid the “everything open” scenario\nif(circuitType===\"parallel\"&&loads.every(l=>l.fault===\"open\")){loads[0].fault=\"normal\";}return{circuitType,sourceV:12,// keep quiz consistent unless you want random V later\nloadCount,switchClosed:true,loads};}/* =========================\n   App\n   ========================= */export default function App(){const[mode,setMode]=useState(\"demo\");// Practice controls\nconst[difficulty,setDifficulty]=useState(\"beginner\");const[showFormulas,setShowFormulas]=useState(true);// Quiz state (in-memory only)\nconst[quizStep,setQuizStep]=useState(1);const[quizScore,setQuizScore]=useState(0);const[quizPossible,setQuizPossible]=useState(0);const[quizComplete,setQuizComplete]=useState(false);const[quizQuestion,setQuizQuestion]=useState(null);const[circuitType,setCircuitType]=useState(\"simple\");const[sourceVoltage,setSourceVoltage]=useState(12);const[loadCount,setLoadCount]=useState(2);const[switchClosed,setSwitchClosed]=useState(true);const[loads,setLoads]=useState(DEFAULT_LOADS);const controlsLocked=mode===\"quiz\";const activeLoadCount=useMemo(()=>{if(circuitType===\"simple\")return 1;return clamp(loadCount,2,5);},[circuitType,loadCount]);const activeLoads=useMemo(()=>loads.slice(0,activeLoadCount),[loads,activeLoadCount]);const calc=useMemo(()=>{return calcCircuit({circuitType,sourceV:sourceVoltage,switchClosed,loads:activeLoads});},[circuitType,sourceVoltage,switchClosed,activeLoads]);function updateLoad(idx,patch){setLoads(prev=>{const next=[...prev];next[idx]=_objectSpread(_objectSpread({},next[idx]),patch);return next;});}function resetQuiz(){setQuizStep(1);setQuizScore(0);setQuizPossible(0);setQuizComplete(false);setQuizQuestion(null);}function applySnapshotToUI(snap){setCircuitType(snap.circuitType);setSourceVoltage(snap.sourceV);setLoadCount(snap.loadCount);setSwitchClosed(snap.switchClosed);// overwrite the first N loads, keep array length 5\nsetLoads(prev=>{const next=[...prev];for(let i=0;i<5;i++){if(i<snap.loads.length)next[i]=_objectSpread({},snap.loads[i]);}return next;});}function startNextQuizQuestion(step){const snap=generateQuizScenario();applySnapshotToUI(snap);const c=calcCircuit({circuitType:snap.circuitType,sourceV:snap.sourceV,switchClosed:snap.switchClosed,loads:snap.loads});const diff=step<=4?\"beginner\":\"experienced\";const q=buildQuestion(diff,snap,c);setQuizQuestion(q);}// Practice question state\nconst[practiceQuestion,setPracticeQuestion]=useState(null);const[practiceAnswers,setPracticeAnswers]=useState({});const[practiceChecked,setPracticeChecked]=useState(false);const[practicePoints,setPracticePoints]=useState(null);function newPracticeQuestion(){if(!switchClosed)return;const snap={circuitType,sourceV:sourceVoltage,loadCount:activeLoadCount,switchClosed,loads:cloneLoads(loads,activeLoadCount)};const c=calcCircuit({circuitType:snap.circuitType,sourceV:snap.sourceV,switchClosed:snap.switchClosed,loads:snap.loads});const q=buildQuestion(difficulty,snap,c);setPracticeQuestion(q);setPracticeAnswers({});setPracticeChecked(false);setPracticePoints(null);}function checkPractice(){if(!practiceQuestion)return;let got=0;let possible=practiceQuestion.parts.length;for(const part of practiceQuestion.parts){var _practiceAnswers$part;const raw=(_practiceAnswers$part=practiceAnswers[part.id])!==null&&_practiceAnswers$part!==void 0?_practiceAnswers$part:\"\";const n=parseStudentNumber(raw);if(n===null)continue;if(withinTol(n,part.correct,part.tol))got+=1;}setPracticeChecked(true);setPracticePoints({got,possible});}// Quiz answer state (per question)\nconst[quizAnswers,setQuizAnswers]=useState({});const[quizChecked,setQuizChecked]=useState(false);function submitQuizAnswer(){if(!quizQuestion)return;// grade this question\nlet got=0;let possible=quizQuestion.parts.length;for(const part of quizQuestion.parts){var _quizAnswers$part$id;const raw=(_quizAnswers$part$id=quizAnswers[part.id])!==null&&_quizAnswers$part$id!==void 0?_quizAnswers$part$id:\"\";const n=parseStudentNumber(raw);if(n===null)continue;if(withinTol(n,part.correct,part.tol))got+=1;}// update totals\nsetQuizScore(prev=>prev+got);setQuizPossible(prev=>prev+possible);setQuizChecked(true);// advance after a short delay (so students can see feedback)\nsetTimeout(()=>{const nextStep=quizStep+1;if(quizStep>=QUIZ_TOTAL_QUESTIONS){setQuizComplete(true);}else{setQuizStep(nextStep);setQuizAnswers({});setQuizChecked(false);startNextQuizQuestion(nextStep);}},600);}return/*#__PURE__*/_jsxs(\"div\",{className:\"appRoot\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"topBar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"titleBlock\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"appTitle\",children:\"ElectraSim v1.0 \\u2013 Student Edition\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subTitle\",children:\"System Online\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"pillButton\",disabled:true,children:\"Foreman Console\"})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"mainGrid\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"panel panelBorder\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"panelHeader\",children:\"Controls\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"panelBody\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"controlGroup\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"controlLabel\",children:\"Mode\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"segmented\",children:[/*#__PURE__*/_jsx(SegButton,{active:mode===\"demo\",onClick:()=>{setMode(\"demo\");setPracticeQuestion(null);resetQuiz();},children:\"Demonstration\"}),/*#__PURE__*/_jsx(SegButton,{active:mode===\"practice\",onClick:()=>{setMode(\"practice\");resetQuiz();setPracticeQuestion(null);},children:\"Practice\"}),/*#__PURE__*/_jsx(SegButton,{active:mode===\"quiz\",onClick:()=>{setMode(\"quiz\");setPracticeQuestion(null);resetQuiz();// question 1\nstartNextQuizQuestion(1);},children:\"Quiz\"})]}),mode===\"practice\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inlineRow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"controlLabelSmall\",children:\"Show formulas\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:showFormulas,onChange:()=>setShowFormulas(s=>!s)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inlineRow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"controlLabelSmall\",children:\"Difficulty\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"segmented small\",children:[/*#__PURE__*/_jsx(SegButton,{active:difficulty===\"beginner\",onClick:()=>setDifficulty(\"beginner\"),children:\"Beginner\"}),/*#__PURE__*/_jsx(SegButton,{active:difficulty===\"experienced\",onClick:()=>setDifficulty(\"experienced\"),children:\"Experienced\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controlGroup\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"controlLabel\",children:\"Circuit Type\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"segmented\",children:[/*#__PURE__*/_jsx(SegButton,{active:circuitType===\"simple\",onClick:()=>setCircuitType(\"simple\"),disabled:controlsLocked,children:\"Simple\"}),/*#__PURE__*/_jsx(SegButton,{active:circuitType===\"series\",onClick:()=>setCircuitType(\"series\"),disabled:controlsLocked,children:\"Series\"}),/*#__PURE__*/_jsx(SegButton,{active:circuitType===\"parallel\",onClick:()=>setCircuitType(\"parallel\"),disabled:controlsLocked,children:\"Parallel\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"controlRow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"controlLabelSmall\",children:\"Loads / Branches\"}),/*#__PURE__*/_jsx(\"input\",{className:\"slider\",type:\"range\",min:2,max:5,step:1,value:activeLoadCount,disabled:circuitType===\"simple\"||controlsLocked,onChange:e=>setLoadCount(parseInt(e.target.value,10))}),/*#__PURE__*/_jsx(\"div\",{className:\"readout\",children:circuitType===\"simple\"?\"N/A\":activeLoadCount})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controlGroup\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"controlLabel\",children:\"Source Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controlRow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"controlLabelSmall\",children:\"Voltage\"}),/*#__PURE__*/_jsx(\"input\",{className:\"slider\",type:\"range\",min:0,max:24,step:3,value:sourceVoltage,disabled:controlsLocked,onChange:e=>setSourceVoltage(parseInt(e.target.value,10))}),/*#__PURE__*/_jsxs(\"div\",{className:\"readout\",children:[sourceVoltage,\" V\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hintText\",children:mode===\"quiz\"?\"Quiz mode: controls locked.\":\"Click the switch in the diagram to open / close.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controlGroup\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"controlLabel\",children:\"Loads\"}),Array.from({length:activeLoadCount}).map((_,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"loadControlCard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loadControlHeader\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loadTitle\",children:[\"Load \",i+1]}),/*#__PURE__*/_jsxs(\"select\",{className:\"faultSelect\",value:loads[i].fault,disabled:controlsLocked,onChange:e=>updateLoad(i,{fault:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"normal\",children:\"Normal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High Resistance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"open\",children:\"Open Circuit\"}),/*#__PURE__*/_jsx(\"option\",{value:\"short\",children:\"Short Circuit\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"loadControlRow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"controlLabelSmall\",children:\"\\u03A9\"}),/*#__PURE__*/_jsx(\"input\",{className:\"slider\",type:\"range\",min:1,max:25,step:0.5,value:loads[i].rUser,disabled:controlsLocked,onChange:e=>updateLoad(i,{rUser:parseFloat(e.target.value)})}),/*#__PURE__*/_jsx(\"input\",{className:\"ohmsBox\",type:\"number\",min:1,max:25,step:0.5,value:loads[i].rUser,disabled:controlsLocked,onChange:e=>updateLoad(i,{rUser:parseFloat(e.target.value||\"1\")})})]})]},i))]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"panel panelBorder centerPanel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"panelHeader\",children:\"Circuit Visualization\"}),/*#__PURE__*/_jsx(\"div\",{className:\"panelBody\",children:/*#__PURE__*/_jsx(CircuitView,{circuitType:circuitType,loadCount:activeLoadCount,switchClosed:switchClosed,onToggleSwitch:()=>{if(mode===\"quiz\")return;// locked\nsetSwitchClosed(s=>!s);},sourceV:sourceVoltage,hasFlow:calc.hasFlow,elementPowers:calc.elementPowers,branchCurrents:calc.branchCurrents,faults:activeLoads.map(l=>l.fault)})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"panel panelBorder\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"panelHeader\",children:\"Outputs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"panelBody\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rightBlock\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"blockTitle\",children:\"Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"kvRow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"kvKey\",children:\"Circuit\"}),/*#__PURE__*/_jsx(\"span\",{className:\"kvVal\",children:circuitType===\"simple\"?\"Simple circuit (1 load)\":circuitType===\"series\"?\"Series circuit (\".concat(activeLoadCount,\" loads)\"):\"Parallel circuit (\".concat(activeLoadCount,\" branches)\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kvRow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"kvKey\",children:\"Source Voltage\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"kvVal\",children:[round1(calc.sourceV),\" V\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kvRow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"kvKey\",children:\"Total Resistance\"}),/*#__PURE__*/_jsx(\"span\",{className:\"kvVal\",children:isFinite(calc.totalR)?\"\".concat(round2(calc.totalR),\" \\u03A9\"):\"∞ Ω\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kvRow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"kvKey\",children:\"Total Current\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"kvVal\",children:[round2(calc.totalI),\" A\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kvRow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"kvKey\",children:\"Total Power\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"kvVal\",children:[round1(calc.totalP),\" W\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider subtle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"blockTitle\",children:\"Per-Element Table\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tableWrap\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"dataTable\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Element\"}),/*#__PURE__*/_jsx(\"th\",{children:\"V (V)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"I (A)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"R (\\u03A9)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"P (W)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:calc.rows.map(r=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:r.label}),/*#__PURE__*/_jsx(\"td\",{children:round2(r.v)}),/*#__PURE__*/_jsx(\"td\",{children:round2(r.i)}),/*#__PURE__*/_jsx(\"td\",{children:isFinite(r.r)?round2(r.r):\"∞\"}),/*#__PURE__*/_jsx(\"td\",{children:round1(r.p)}),/*#__PURE__*/_jsx(\"td\",{children:prettyStatus(r.status)})]},r.label))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"divider subtle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"blockTitle\",children:\"Status\"}),calc.faultNotes.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"statusText\",children:\"No faults selected.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"statusList\",children:calc.faultNotes.map((n,i)=>/*#__PURE__*/_jsx(\"li\",{children:n},i))}),!switchClosed&&/*#__PURE__*/_jsx(\"div\",{className:\"statusText\",children:\"Switch is open \\u2192 circuit current is ~0 A.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"divider subtle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ohmTriangleBox\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"140\",height:\"110\",viewBox:\"0 0 140 110\",role:\"img\",\"aria-label\":\"Ohm's Law Triangle\",children:[/*#__PURE__*/_jsx(\"polygon\",{points:\"70,10 130,100 10,100\",fill:\"rgba(120, 255, 180, 0.10)\",stroke:\"rgba(120, 255, 180, 0.45)\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"40\",y1:\"60\",x2:\"100\",y2:\"60\",stroke:\"rgba(120, 255, 180, 0.45)\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"70\",y1:\"60\",x2:\"70\",y2:\"100\",stroke:\"rgba(120, 255, 180, 0.45)\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"text\",{x:\"70\",y:\"48\",textAnchor:\"middle\",fill:\"rgba(220,255,235,0.9)\",fontSize:\"22\",fontFamily:\"system-ui, Arial\",children:\"V\"}),/*#__PURE__*/_jsx(\"text\",{x:\"45\",y:\"88\",textAnchor:\"middle\",fill:\"rgba(220,255,235,0.9)\",fontSize:\"22\",fontFamily:\"system-ui, Arial\",children:\"I\"}),/*#__PURE__*/_jsx(\"text\",{x:\"95\",y:\"88\",textAnchor:\"middle\",fill:\"rgba(220,255,235,0.9)\",fontSize:\"22\",fontFamily:\"system-ui, Arial\",children:\"R\"})]})})]})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"panel panelBorder bottomPanel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"panelHeader\",children:mode===\"quiz\"?\"Quiz Question \".concat(quizStep,\" / \").concat(QUIZ_TOTAL_QUESTIONS):\"Show the Math\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"panelBody\",children:[mode===\"demo\"&&/*#__PURE__*/_jsx(MathPanel,{circuitType:circuitType,sourceV:calc.sourceV,rows:calc.rows,totalR:calc.totalR,totalI:calc.totalI,faultNotes:calc.faultNotes}),mode===\"practice\"&&/*#__PURE__*/_jsx(PracticePanel,{showFormulas:showFormulas,switchClosed:switchClosed,question:practiceQuestion,answers:practiceAnswers,setAnswers:setPracticeAnswers,checked:practiceChecked,points:practicePoints,onNew:newPracticeQuestion,onCheck:checkPractice}),mode===\"quiz\"&&/*#__PURE__*/_jsx(QuizPanel,{showFormulas:true// quiz always shows formulas per your spec\n,question:quizQuestion,answers:quizAnswers,setAnswers:setQuizAnswers,checked:quizChecked,onSubmit:submitQuizAnswer,quizComplete:quizComplete,quizScore:quizScore,quizPossible:quizPossible})]})]})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"footerBar\",children:/*#__PURE__*/_jsx(\"span\",{className:\"footerText\",children:\"ElectraSim v1.0 \\u2022 Standalone \\u2022 No sign-in \\u2022 No data saved\"})})]});}/* =========================\n   UI helpers\n   ========================= */function SegButton(_ref){let{active,onClick,children,disabled}=_ref;return/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"segBtn \".concat(active?\"active\":\"\"),onClick:onClick,disabled:disabled,children:children});}function prettyStatus(s){if(s===\"high\")return\"High Res\";if(s===\"open\")return\"Open Circuit\";if(s===\"short\")return\"Short Circuit\";if(s===\"normal\")return\"Normal\";return s;}/* =========================\n   Bottom Panel Components\n   ========================= */function PracticePanel(props){const{showFormulas,switchClosed,question,answers,setAnswers,checked,points,onNew,onCheck}=props;if(!switchClosed){return/*#__PURE__*/_jsxs(\"div\",{className:\"hintText\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Close the switch to begin.\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8,opacity:0.8},children:\"Practice questions are disabled when the switch is open.\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"practiceWrap\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"practiceHeaderRow\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700},children:question?question.title:\"Practice\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hintText\",children:question?question.prompt:\"Click “New Question” to generate a practice problem from the current circuit.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"practiceButtons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"secondaryButton\",onClick:onNew,children:\"New Question\"}),/*#__PURE__*/_jsx(\"button\",{className:\"primaryButton\",onClick:onCheck,disabled:!question,children:\"Check Answer\"})]})]}),question&&/*#__PURE__*/_jsx(\"div\",{className:\"qaGrid\",children:question.parts.map(p=>{var _answers$p$id;const raw=(_answers$p$id=answers[p.id])!==null&&_answers$p$id!==void 0?_answers$p$id:\"\";const n=parseStudentNumber(raw);const ok=checked&&n!==null&&withinTol(n,p.correct,p.tol);return/*#__PURE__*/_jsxs(\"div\",{className:\"qaCard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"qaLabelRow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"qaLabel\",children:p.label}),checked&&/*#__PURE__*/_jsx(\"div\",{className:\"qaBadge \".concat(ok?\"ok\":\"bad\"),children:ok?\"Correct\":\"Check\"})]}),showFormulas&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"qaFormula\",children:p.formula}),/*#__PURE__*/_jsx(\"div\",{className:\"qaSub\",children:p.substitution})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"qaInputRow\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"qaInput\",value:raw,onChange:e=>setAnswers(prev=>_objectSpread(_objectSpread({},prev),{},{[p.id]:e.target.value})),placeholder:\"Enter \".concat(p.unit)}),/*#__PURE__*/_jsx(\"div\",{className:\"qaUnit\",children:p.unit})]}),checked&&!ok&&/*#__PURE__*/_jsxs(\"div\",{className:\"qaHint\",children:[\"Correct \\u2248 \",fmt(p.correct),\" \",p.unit]})]},p.id);})}),points&&/*#__PURE__*/_jsxs(\"div\",{className:\"quizResult\",style:{marginTop:10},children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Score: \",points.got,\" / \",points.possible]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Percentage: \",Math.round(points.got/points.possible*100),\"%\"]})]})]});}function QuizPanel(props){const{showFormulas,question,answers,setAnswers,checked,onSubmit,quizComplete,quizScore,quizPossible}=props;if(quizComplete){const pct=quizPossible>0?Math.round(quizScore/quizPossible*100):0;return/*#__PURE__*/_jsxs(\"div\",{className:\"quizResult\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Score: \",quizScore,\" / \",quizPossible]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Percentage: \",pct,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"hintText\",children:\"Screenshot this result.\"})]});}if(!question){return/*#__PURE__*/_jsx(\"div\",{className:\"hintText\",children:\"Generating quiz\\u2026\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"practiceWrap\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"practiceHeaderRow\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700},children:question.title}),/*#__PURE__*/_jsx(\"div\",{className:\"hintText\",children:question.prompt})]}),/*#__PURE__*/_jsx(\"div\",{className:\"practiceButtons\",children:/*#__PURE__*/_jsx(\"button\",{className:\"primaryButton\",onClick:onSubmit,children:\"Submit Answer\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"qaGrid\",children:question.parts.map(p=>{var _answers$p$id2;const raw=(_answers$p$id2=answers[p.id])!==null&&_answers$p$id2!==void 0?_answers$p$id2:\"\";const n=parseStudentNumber(raw);const ok=checked&&n!==null&&withinTol(n,p.correct,p.tol);return/*#__PURE__*/_jsxs(\"div\",{className:\"qaCard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"qaLabelRow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"qaLabel\",children:p.label}),checked&&/*#__PURE__*/_jsx(\"div\",{className:\"qaBadge \".concat(ok?\"ok\":\"bad\"),children:ok?\"Correct\":\"Check\"})]}),showFormulas&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"qaFormula\",children:p.formula}),/*#__PURE__*/_jsx(\"div\",{className:\"qaSub\",children:p.substitution})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"qaInputRow\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"qaInput\",value:raw,onChange:e=>setAnswers(prev=>_objectSpread(_objectSpread({},prev),{},{[p.id]:e.target.value})),placeholder:\"Enter \".concat(p.unit)}),/*#__PURE__*/_jsx(\"div\",{className:\"qaUnit\",children:p.unit})]}),checked&&!ok&&/*#__PURE__*/_jsxs(\"div\",{className:\"qaHint\",children:[\"Correct \\u2248 \",fmt(p.correct),\" \",p.unit]})]},p.id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"hintText\",style:{marginTop:10,opacity:0.75},children:\"Partial credit is awarded per box. Units are ignored.\"})]});}/* =========================\n   Original MathPanel\n   ========================= */function MathPanel(_ref2){let{circuitType,sourceV,rows,totalR,totalI,faultNotes}=_ref2;const rList=rows.map(r=>r.r);const rText=rList.map(r=>isFinite(r)?round2(r):\"∞\").join(\" + \");const invTerms=rList.map(r=>isFinite(r)?\"1/\".concat(round2(r)):\"0\").join(\" + \");const vDrops=rows.map(r=>\"\".concat(r.label,\": \").concat(round2(r.v),\"V\")).join(\" | \");const iBranches=rows.map(r=>\"\".concat(r.label,\": \").concat(round2(r.i),\"A\")).join(\" | \");return/*#__PURE__*/_jsxs(\"div\",{className:\"mathGrid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mathSteps\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stepLine\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stepLabel\",children:\"Step 1:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stepText\",children:[\"Find Total Resistance\",\" \",circuitType===\"series\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mathMini\",children:\"Rtotal = R1 + R2 + \\u2026\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mathMini\",children:[\"Rtotal = \",rText,\" =\",\" \",isFinite(totalR)?\"\".concat(round2(totalR),\"\\u03A9\"):\"∞Ω\"]})]}),circuitType===\"parallel\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mathMini\",children:\"1/Rtotal = 1/R1 + 1/R2 + \\u2026\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mathMini\",children:[\"1/Rtotal = \",invTerms]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mathMini\",children:[\"Rtotal = \",isFinite(totalR)?\"\".concat(round2(totalR),\"\\u03A9\"):\"∞Ω\"]})]}),circuitType===\"simple\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mathMini\",children:\"Rtotal = R1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mathMini\",children:[\"Rtotal = \",isFinite(totalR)?\"\".concat(round2(totalR),\"\\u03A9\"):\"∞Ω\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stepLine\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stepLabel\",children:\"Step 2:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stepText\",children:[\"Find Total Current (I = V / Rtotal)\",/*#__PURE__*/_jsxs(\"div\",{className:\"mathMini\",children:[\"I = \",round2(sourceV),\" / \",isFinite(totalR)?round2(totalR):\"∞\",\" \",\"= \",round2(totalI),\" A\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stepLine\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stepLabel\",children:\"Step 3:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stepText\",children:[circuitType===\"series\"?\"Voltage drops: Vn = I × Rn\":circuitType===\"parallel\"?\"Branch currents: In = V / Rn\":\"Load values\",/*#__PURE__*/_jsx(\"div\",{className:\"mathMini\",children:circuitType===\"series\"?vDrops:iBranches})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stepLine\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stepLabel\",children:\"Step 4:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stepText\",children:[\"Check sums\",/*#__PURE__*/_jsx(\"div\",{className:\"mathMini\",children:circuitType===\"series\"?\"Sum of voltage drops ≈ Source voltage\":circuitType===\"parallel\"?\"Sum of branch currents ≈ Total current\":\"N/A\"}),faultNotes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mathMini\",children:[\"Fault note(s): \",faultNotes[0]]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mathControls\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mathModeHint\",children:\"Demonstration mode: values and substitutions shown live.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hintText\",children:\"Select Practice mode or Quiz mode to test your knowledge.\"})]})]});}","map":{"version":3,"names":["useMemo","useState","CircuitView","calcCircuit","clamp","round1","round2","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DEFAULT_LOADS","Array","from","length","map","rUser","fault","QUIZ_TOTAL_QUESTIONS","uid","Math","random","toString","slice","parseStudentNumber","raw","cleaned","toLowerCase","replace","trim","m","match","n","Number","isFinite","withinTol","val","correct","tol","abs","tolFor","unit","fmt","String","cloneLoads","loads","l","buildQuestion","difficulty","snap","calc","id","ct","circuitType","parts","title","prompt","Rtotal","totalR","Itotal","totalI","Ptotal","totalP","fI","sI","concat","sourceV","fP","sP","options","push","rows","pick","floor","_calc$rows$0$r","_calc$rows$","label","formula","substitution","r","join","r0","v","i","_calc$rows$0$r2","_calc$rows$2","forEach","idx","every","p","snapshot","randomStep05","min","max","steps","round","k","pickFaultForQuiz","generateQuizScenario","ctPick","loadCount","shortCount","switchClosed","App","mode","setMode","setDifficulty","showFormulas","setShowFormulas","quizStep","setQuizStep","quizScore","setQuizScore","quizPossible","setQuizPossible","quizComplete","setQuizComplete","quizQuestion","setQuizQuestion","setCircuitType","sourceVoltage","setSourceVoltage","setLoadCount","setSwitchClosed","setLoads","controlsLocked","activeLoadCount","activeLoads","updateLoad","patch","prev","next","_objectSpread","resetQuiz","applySnapshotToUI","startNextQuizQuestion","step","c","diff","q","practiceQuestion","setPracticeQuestion","practiceAnswers","setPracticeAnswers","practiceChecked","setPracticeChecked","practicePoints","setPracticePoints","newPracticeQuestion","checkPractice","got","possible","part","_practiceAnswers$part","quizAnswers","setQuizAnswers","quizChecked","setQuizChecked","submitQuizAnswer","_quizAnswers$part$id","setTimeout","nextStep","className","children","disabled","SegButton","active","onClick","type","checked","onChange","s","value","e","parseInt","target","_","parseFloat","onToggleSwitch","hasFlow","elementPowers","branchCurrents","faults","prettyStatus","status","faultNotes","width","height","viewBox","role","points","fill","stroke","strokeWidth","x1","y1","x2","y2","x","y","textAnchor","fontSize","fontFamily","MathPanel","PracticePanel","question","answers","setAnswers","onNew","onCheck","QuizPanel","onSubmit","_ref","props","style","marginTop","opacity","fontWeight","_answers$p$id","ok","placeholder","pct","_answers$p$id2","_ref2","rList","rText","invTerms","vDrops","iBranches"],"sources":["C:/Users/Bill Smithingell/Downloads/electrasim/src/App.tsx"],"sourcesContent":["import { useMemo, useState } from \"react\";\nimport CircuitView from \"./components/CircuitView\";\nimport {\n  calcCircuit,\n  clamp,\n  round1,\n  round2,\n  type CircuitType,\n  type FaultType,\n  type LoadConfig,\n  type CalcResult,\n} from \"./logic/electrical\";\n\ntype Mode = \"demo\" | \"practice\" | \"quiz\";\ntype Difficulty = \"beginner\" | \"experienced\";\n\nconst DEFAULT_LOADS: LoadConfig[] = Array.from({ length: 5 }).map(() => ({\n  rUser: 6,\n  fault: \"normal\" as FaultType,\n}));\n\nconst QUIZ_TOTAL_QUESTIONS = 10;\n\ntype Unit = \"Ω\" | \"A\" | \"V\" | \"W\";\n\ntype Part = {\n  id: string;\n  label: string;\n  unit: Unit;\n  // symbolic formula, and then a substitution string\n  formula: string;\n  substitution: string;\n  correct: number;\n  tol: number;\n};\n\ntype Question = {\n  id: string;\n  title: string;\n  prompt: string;\n  parts: Part[];\n  // snapshot + precomputed calc at time of question creation\n  snapshot: CircuitSnapshot;\n  calc: CalcResult;\n};\n\ntype CircuitSnapshot = {\n  circuitType: CircuitType;\n  sourceV: number;\n  loadCount: number;\n  switchClosed: boolean;\n  loads: LoadConfig[];\n};\n\nfunction uid() {\n  return Math.random().toString(36).slice(2, 10);\n}\n\nfunction parseStudentNumber(raw: string): number | null {\n  if (!raw) return null;\n  const cleaned = raw\n    .toLowerCase()\n    .replace(/,/g, \"\")\n    .replace(/ohms/g, \"\")\n    .replace(/omega/g, \"\")\n    .replace(/[a-zΩ]/g, \" \")\n    .trim();\n  const m = cleaned.match(/-?\\d+(\\.\\d+)?/);\n  if (!m) return null;\n  const n = Number(m[0]);\n  return Number.isFinite(n) ? n : null;\n}\n\nfunction withinTol(val: number, correct: number, tol: number) {\n  return Math.abs(val - correct) <= tol;\n}\n\nfunction tolFor(unit: Unit) {\n  if (unit === \"A\") return 0.02;\n  if (unit === \"V\") return 0.02;\n  if (unit === \"Ω\") return 0.05;\n  return 0.5; // W\n}\n\nfunction fmt(n: number) {\n  // keep it readable, not “calculator vomit”\n  return Number.isFinite(n) ? String(round2(n)) : \"∞\";\n}\n\nfunction cloneLoads(loads: LoadConfig[], n: number): LoadConfig[] {\n  return loads.slice(0, n).map((l) => ({ rUser: l.rUser, fault: l.fault }));\n}\n\n/* =========================\n   Question Builder\n   ========================= */\n\nfunction buildQuestion(\n  difficulty: Difficulty,\n  snap: CircuitSnapshot,\n  calc: CalcResult\n): Question {\n  const id = uid();\n  const ct = snap.circuitType;\n\n  const parts: Part[] = [];\n  let title = \"\";\n  let prompt = \"\";\n\n  const Rtotal = calc.totalR;\n  const Itotal = calc.totalI;\n  const Ptotal = calc.totalP;\n\n  // helpers for formulas/substitution\n  const fI = \"I = V / Rtotal\";\n  const sI = `I = ${fmt(snap.sourceV)} / ${fmt(Rtotal)}`;\n\n  const fP = \"P = V × I\";\n  const sP = `P = ${fmt(snap.sourceV)} × ${fmt(Itotal)}`;\n\n  if (difficulty === \"beginner\") {\n    // pick a single-part question that makes sense for the circuit type\n    const options: Array<\n      \"Rtotal\" | \"Itotal\" | \"Ptotal\" | \"Vdrop1\" | \"Ibranch1\"\n    > = [];\n\n    options.push(\"Rtotal\", \"Itotal\", \"Ptotal\");\n    if (ct === \"series\" && calc.rows.length >= 1) options.push(\"Vdrop1\");\n    if (ct === \"parallel\" && calc.rows.length >= 1) options.push(\"Ibranch1\");\n\n    const pick = options[Math.floor(Math.random() * options.length)];\n\n    if (pick === \"Rtotal\") {\n      title = \"Find Total Resistance\";\n      prompt = \"Calculate the total resistance of the circuit.\";\n      parts.push({\n        id: \"rtotal\",\n        label: \"Rtotal\",\n        unit: \"Ω\",\n        formula:\n          ct === \"parallel\"\n            ? \"1/Rtotal = 1/R1 + 1/R2 + …\"\n            : ct === \"series\"\n            ? \"Rtotal = R1 + R2 + …\"\n            : \"Rtotal = R1\",\n        substitution:\n          ct === \"parallel\"\n            ? `1/Rtotal = ${calc.rows\n                .map((r) => (Number.isFinite(r.r) ? `1/${fmt(r.r)}` : \"0\"))\n                .join(\" + \")}`\n            : ct === \"series\"\n            ? `Rtotal = ${calc.rows.map((r) => fmt(r.r)).join(\" + \")}`\n            : `Rtotal = ${fmt(calc.rows[0]?.r ?? Rtotal)}`,\n        correct: Number.isFinite(Rtotal) ? Rtotal : 0,\n        tol: tolFor(\"Ω\"),\n      });\n    } else if (pick === \"Itotal\") {\n      title = \"Find Total Current\";\n      prompt = \"Calculate total current in the circuit.\";\n      parts.push({\n        id: \"itotal\",\n        label: \"Itotal\",\n        unit: \"A\",\n        formula: fI,\n        substitution: sI,\n        correct: Itotal,\n        tol: tolFor(\"A\"),\n      });\n    } else if (pick === \"Ptotal\") {\n      title = \"Find Total Power\";\n      prompt = \"Calculate total power in the circuit.\";\n      parts.push({\n        id: \"ptotal\",\n        label: \"Ptotal\",\n        unit: \"W\",\n        formula: fP,\n        substitution: sP,\n        correct: Ptotal,\n        tol: tolFor(\"W\"),\n      });\n    } else if (pick === \"Vdrop1\") {\n      const r0 = calc.rows[0];\n      title = \"Find Voltage Drop (Load 1)\";\n      prompt = \"In a series circuit, voltage drop across a load is V = I × R.\";\n      parts.push({\n        id: \"v1\",\n        label: \"V1\",\n        unit: \"V\",\n        formula: \"Vn = I × Rn\",\n        substitution: `V1 = ${fmt(Itotal)} × ${fmt(r0.r)}`,\n        correct: r0.v,\n        tol: tolFor(\"V\"),\n      });\n    } else {\n      const r0 = calc.rows[0];\n      title = \"Find Branch Current (Load 1)\";\n      prompt = \"In a parallel circuit, branch current is In = V / Rn.\";\n      parts.push({\n        id: \"i1\",\n        label: \"I1\",\n        unit: \"A\",\n        formula: \"In = V / Rn\",\n        substitution: `I1 = ${fmt(snap.sourceV)} / ${fmt(r0.r)}`,\n        correct: r0.i,\n        tol: tolFor(\"A\"),\n      });\n    }\n  } else {\n    // Experienced: multi-part full circuit solve\n    title = \"Full Circuit Calculation\";\n    prompt =\n      ct === \"series\"\n        ? \"Solve the series circuit: Rtotal, Itotal, and voltage drop(s).\"\n        : ct === \"parallel\"\n        ? \"Solve the parallel circuit: Rtotal, Itotal, and branch current(s).\"\n        : \"Solve the circuit: Rtotal, Itotal, and power.\";\n\n    // Part 1: Rtotal\n    parts.push({\n      id: \"rtotal\",\n      label: \"Rtotal\",\n      unit: \"Ω\",\n      formula:\n        ct === \"parallel\"\n          ? \"1/Rtotal = 1/R1 + 1/R2 + …\"\n          : ct === \"series\"\n          ? \"Rtotal = R1 + R2 + …\"\n          : \"Rtotal = R1\",\n      substitution:\n        ct === \"parallel\"\n          ? `1/Rtotal = ${calc.rows\n              .map((r) => (Number.isFinite(r.r) ? `1/${fmt(r.r)}` : \"0\"))\n              .join(\" + \")}`\n          : ct === \"series\"\n          ? `Rtotal = ${calc.rows.map((r) => fmt(r.r)).join(\" + \")}`\n          : `Rtotal = ${fmt(calc.rows[0]?.r ?? Rtotal)}`,\n      correct: Number.isFinite(Rtotal) ? Rtotal : 0,\n      tol: tolFor(\"Ω\"),\n    });\n\n    // Part 2: Itotal\n    parts.push({\n      id: \"itotal\",\n      label: \"Itotal\",\n      unit: \"A\",\n      formula: fI,\n      substitution: sI,\n      correct: Itotal,\n      tol: tolFor(\"A\"),\n    });\n\n    // Part 3+: per-load based on circuit type\n    if (ct === \"series\") {\n      // ask for Vdrops for each load (more boxes = more points, still fair)\n      calc.rows.forEach((r, idx) => {\n        parts.push({\n          id: `v${idx + 1}`,\n          label: `V${idx + 1} (Load ${idx + 1})`,\n          unit: \"V\",\n          formula: \"Vn = I × Rn\",\n          substitution: `V${idx + 1} = ${fmt(Itotal)} × ${fmt(r.r)}`,\n          correct: r.v,\n          tol: tolFor(\"V\"),\n        });\n      });\n    } else if (ct === \"parallel\") {\n      calc.rows.forEach((r, idx) => {\n        parts.push({\n          id: `i${idx + 1}`,\n          label: `I${idx + 1} (Load ${idx + 1})`,\n          unit: \"A\",\n          formula: \"In = V / Rn\",\n          substitution: `I${idx + 1} = ${fmt(snap.sourceV)} / ${fmt(r.r)}`,\n          correct: r.i,\n          tol: tolFor(\"A\"),\n        });\n      });\n    } else {\n      // simple\n      parts.push({\n        id: \"ptotal\",\n        label: \"Ptotal\",\n        unit: \"W\",\n        formula: fP,\n        substitution: sP,\n        correct: Ptotal,\n        tol: tolFor(\"W\"),\n      });\n    }\n  }\n\n  // make sure we never generate a question where everything is “0” by design\n  // (you said switch open should block questions, so this is mostly fault edge-cases)\n  if (parts.every((p) => Math.abs(p.correct) < 0.000001)) {\n    // fall back to total resistance question (still valid)\n    return buildQuestion(\"beginner\", snap, calc);\n  }\n\n  return {\n    id,\n    title,\n    prompt,\n    parts,\n    snapshot: snap,\n    calc,\n  };\n}\n\n/* =========================\n   Quiz Scenario Generator\n   ========================= */\n\nfunction randomStep05(min: number, max: number) {\n  const steps = Math.round((max - min) / 0.5);\n  const k = Math.floor(Math.random() * (steps + 1));\n  return min + k * 0.5;\n}\n\nfunction pickFaultForQuiz(ct: CircuitType, idx: number): FaultType {\n  // Keep it challenging but not “everyone answers 0”.\n  // - Disallow OPEN in simple/series (too trivial)\n  // - Allow OPEN in parallel (branch open is realistic)\n  // - Allow at most one SHORT\n  const r = Math.random();\n  if (r < 0.72) return \"normal\";\n  if (r < 0.87) return \"high\";\n\n  if (ct === \"parallel\") {\n    // sometimes open branch\n    return r < 0.94 ? \"open\" : \"short\";\n  }\n\n  // series/simple: no open\n  return \"short\";\n}\n\nfunction generateQuizScenario(): CircuitSnapshot {\n  const ctPick = Math.random();\n  const circuitType: CircuitType =\n    ctPick < 0.25 ? \"simple\" : ctPick < 0.6 ? \"series\" : \"parallel\";\n\n  const loadCount =\n    circuitType === \"simple\"\n      ? 1\n      : ((2 + Math.floor(Math.random() * 4)) as 2 | 3 | 4 | 5);\n\n  const loads: LoadConfig[] = [];\n  let shortCount = 0;\n\n  for (let i = 0; i < loadCount; i++) {\n    const rUser = randomStep05(1, 25);\n\n    let fault = pickFaultForQuiz(circuitType, i);\n\n    if (fault === \"short\") {\n      shortCount++;\n      if (shortCount > 1) fault = \"high\"; // cap shorts\n    }\n\n    loads.push({ rUser, fault });\n  }\n\n  // In parallel, avoid the “everything open” scenario\n  if (circuitType === \"parallel\" && loads.every((l) => l.fault === \"open\")) {\n    loads[0].fault = \"normal\";\n  }\n\n  return {\n    circuitType,\n    sourceV: 12, // keep quiz consistent unless you want random V later\n    loadCount,\n    switchClosed: true,\n    loads,\n  };\n}\n\n/* =========================\n   App\n   ========================= */\n\nexport default function App() {\n  const [mode, setMode] = useState<Mode>(\"demo\");\n\n  // Practice controls\n  const [difficulty, setDifficulty] = useState<Difficulty>(\"beginner\");\n  const [showFormulas, setShowFormulas] = useState<boolean>(true);\n\n  // Quiz state (in-memory only)\n  const [quizStep, setQuizStep] = useState<number>(1);\n  const [quizScore, setQuizScore] = useState<number>(0);\n  const [quizPossible, setQuizPossible] = useState<number>(0);\n  const [quizComplete, setQuizComplete] = useState<boolean>(false);\n  const [quizQuestion, setQuizQuestion] = useState<Question | null>(null);\n\n  const [circuitType, setCircuitType] = useState<CircuitType>(\"simple\");\n  const [sourceVoltage, setSourceVoltage] = useState<number>(12);\n\n  const [loadCount, setLoadCount] = useState<number>(2);\n  const [switchClosed, setSwitchClosed] = useState<boolean>(true);\n\n  const [loads, setLoads] = useState<LoadConfig[]>(DEFAULT_LOADS);\n\n  const controlsLocked = mode === \"quiz\";\n\n  const activeLoadCount = useMemo(() => {\n    if (circuitType === \"simple\") return 1;\n    return clamp(loadCount, 2, 5);\n  }, [circuitType, loadCount]);\n\n  const activeLoads = useMemo(\n    () => loads.slice(0, activeLoadCount),\n    [loads, activeLoadCount]\n  );\n\n  const calc = useMemo(() => {\n    return calcCircuit({\n      circuitType,\n      sourceV: sourceVoltage,\n      switchClosed,\n      loads: activeLoads,\n    });\n  }, [circuitType, sourceVoltage, switchClosed, activeLoads]);\n\n  function updateLoad(idx: number, patch: Partial<LoadConfig>) {\n    setLoads((prev) => {\n      const next = [...prev];\n      next[idx] = { ...next[idx], ...patch };\n      return next;\n    });\n  }\n\n  function resetQuiz() {\n    setQuizStep(1);\n    setQuizScore(0);\n    setQuizPossible(0);\n    setQuizComplete(false);\n    setQuizQuestion(null);\n  }\n\n  function applySnapshotToUI(snap: CircuitSnapshot) {\n    setCircuitType(snap.circuitType);\n    setSourceVoltage(snap.sourceV);\n    setLoadCount(snap.loadCount);\n    setSwitchClosed(snap.switchClosed);\n\n    // overwrite the first N loads, keep array length 5\n    setLoads((prev) => {\n      const next = [...prev];\n      for (let i = 0; i < 5; i++) {\n        if (i < snap.loads.length) next[i] = { ...snap.loads[i] };\n      }\n      return next;\n    });\n  }\n\n  function startNextQuizQuestion(step: number) {\n    const snap = generateQuizScenario();\n    applySnapshotToUI(snap);\n\n    const c = calcCircuit({\n      circuitType: snap.circuitType,\n      sourceV: snap.sourceV,\n      switchClosed: snap.switchClosed,\n      loads: snap.loads,\n    });\n\n    const diff: Difficulty = step <= 4 ? \"beginner\" : \"experienced\";\n    const q = buildQuestion(diff, snap, c);\n\n    setQuizQuestion(q);\n  }\n\n  // Practice question state\n  const [practiceQuestion, setPracticeQuestion] = useState<Question | null>(\n    null\n  );\n  const [practiceAnswers, setPracticeAnswers] = useState<\n    Record<string, string>\n  >({});\n  const [practiceChecked, setPracticeChecked] = useState<boolean>(false);\n  const [practicePoints, setPracticePoints] = useState<{\n    got: number;\n    possible: number;\n  } | null>(null);\n\n  function newPracticeQuestion() {\n    if (!switchClosed) return;\n\n    const snap: CircuitSnapshot = {\n      circuitType,\n      sourceV: sourceVoltage,\n      loadCount: activeLoadCount,\n      switchClosed,\n      loads: cloneLoads(loads, activeLoadCount),\n    };\n\n    const c = calcCircuit({\n      circuitType: snap.circuitType,\n      sourceV: snap.sourceV,\n      switchClosed: snap.switchClosed,\n      loads: snap.loads,\n    });\n\n    const q = buildQuestion(difficulty, snap, c);\n\n    setPracticeQuestion(q);\n    setPracticeAnswers({});\n    setPracticeChecked(false);\n    setPracticePoints(null);\n  }\n\n  function checkPractice() {\n    if (!practiceQuestion) return;\n\n    let got = 0;\n    let possible = practiceQuestion.parts.length;\n\n    for (const part of practiceQuestion.parts) {\n      const raw = practiceAnswers[part.id] ?? \"\";\n      const n = parseStudentNumber(raw);\n      if (n === null) continue;\n      if (withinTol(n, part.correct, part.tol)) got += 1;\n    }\n\n    setPracticeChecked(true);\n    setPracticePoints({ got, possible });\n  }\n\n  // Quiz answer state (per question)\n  const [quizAnswers, setQuizAnswers] = useState<Record<string, string>>({});\n  const [quizChecked, setQuizChecked] = useState<boolean>(false);\n\n  function submitQuizAnswer() {\n    if (!quizQuestion) return;\n\n    // grade this question\n    let got = 0;\n    let possible = quizQuestion.parts.length;\n\n    for (const part of quizQuestion.parts) {\n      const raw = quizAnswers[part.id] ?? \"\";\n      const n = parseStudentNumber(raw);\n      if (n === null) continue;\n      if (withinTol(n, part.correct, part.tol)) got += 1;\n    }\n\n    // update totals\n    setQuizScore((prev) => prev + got);\n    setQuizPossible((prev) => prev + possible);\n    setQuizChecked(true);\n\n    // advance after a short delay (so students can see feedback)\n    setTimeout(() => {\n      const nextStep = quizStep + 1;\n\n      if (quizStep >= QUIZ_TOTAL_QUESTIONS) {\n        setQuizComplete(true);\n      } else {\n        setQuizStep(nextStep);\n        setQuizAnswers({});\n        setQuizChecked(false);\n        startNextQuizQuestion(nextStep);\n      }\n    }, 600);\n  }\n\n  return (\n    <div className=\"appRoot\">\n      <header className=\"topBar\">\n        <div className=\"titleBlock\">\n          <div className=\"appTitle\">ElectraSim v1.0 – Student Edition</div>\n          <div className=\"subTitle\">System Online</div>\n        </div>\n        <button className=\"pillButton\" disabled>\n          Foreman Console\n        </button>\n      </header>\n\n      <main className=\"mainGrid\">\n        {/* LEFT: Controls */}\n        <section className=\"panel panelBorder\">\n          <div className=\"panelHeader\">Controls</div>\n          <div className=\"panelBody\">\n            {/* Mode */}\n            <div className=\"controlGroup\">\n              <div className=\"controlLabel\">Mode</div>\n              <div className=\"segmented\">\n                <SegButton\n                  active={mode === \"demo\"}\n                  onClick={() => {\n                    setMode(\"demo\");\n                    setPracticeQuestion(null);\n                    resetQuiz();\n                  }}\n                >\n                  Demonstration\n                </SegButton>\n\n                <SegButton\n                  active={mode === \"practice\"}\n                  onClick={() => {\n                    setMode(\"practice\");\n                    resetQuiz();\n                    setPracticeQuestion(null);\n                  }}\n                >\n                  Practice\n                </SegButton>\n\n                <SegButton\n                  active={mode === \"quiz\"}\n                  onClick={() => {\n                    setMode(\"quiz\");\n                    setPracticeQuestion(null);\n                    resetQuiz();\n                    // question 1\n                    startNextQuizQuestion(1);\n                  }}\n                >\n                  Quiz\n                </SegButton>\n              </div>\n\n              {/* Practice toggles */}\n              {mode === \"practice\" && (\n                <>\n                  <div className=\"inlineRow\">\n                    <span className=\"controlLabelSmall\">Show formulas</span>\n                    <input\n                      type=\"checkbox\"\n                      checked={showFormulas}\n                      onChange={() => setShowFormulas((s) => !s)}\n                    />\n                  </div>\n\n                  <div className=\"inlineRow\">\n                    <span className=\"controlLabelSmall\">Difficulty</span>\n                    <div className=\"segmented small\">\n                      <SegButton\n                        active={difficulty === \"beginner\"}\n                        onClick={() => setDifficulty(\"beginner\")}\n                      >\n                        Beginner\n                      </SegButton>\n                      <SegButton\n                        active={difficulty === \"experienced\"}\n                        onClick={() => setDifficulty(\"experienced\")}\n                      >\n                        Experienced\n                      </SegButton>\n                    </div>\n                  </div>\n                </>\n              )}\n            </div>\n\n            <div className=\"divider\" />\n\n            {/* Circuit Type */}\n            <div className=\"controlGroup\">\n              <div className=\"controlLabel\">Circuit Type</div>\n              <div className=\"segmented\">\n                <SegButton\n                  active={circuitType === \"simple\"}\n                  onClick={() => setCircuitType(\"simple\")}\n                  disabled={controlsLocked}\n                >\n                  Simple\n                </SegButton>\n                <SegButton\n                  active={circuitType === \"series\"}\n                  onClick={() => setCircuitType(\"series\")}\n                  disabled={controlsLocked}\n                >\n                  Series\n                </SegButton>\n                <SegButton\n                  active={circuitType === \"parallel\"}\n                  onClick={() => setCircuitType(\"parallel\")}\n                  disabled={controlsLocked}\n                >\n                  Parallel\n                </SegButton>\n              </div>\n\n              <div className=\"controlRow\">\n                <span className=\"controlLabelSmall\">Loads / Branches</span>\n                <input\n                  className=\"slider\"\n                  type=\"range\"\n                  min={2}\n                  max={5}\n                  step={1}\n                  value={activeLoadCount}\n                  disabled={circuitType === \"simple\" || controlsLocked}\n                  onChange={(e) => setLoadCount(parseInt(e.target.value, 10))}\n                />\n                <div className=\"readout\">\n                  {circuitType === \"simple\" ? \"N/A\" : activeLoadCount}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"divider\" />\n\n            {/* Source */}\n            <div className=\"controlGroup\">\n              <div className=\"controlLabel\">Source Settings</div>\n              <div className=\"controlRow\">\n                <span className=\"controlLabelSmall\">Voltage</span>\n                <input\n                  className=\"slider\"\n                  type=\"range\"\n                  min={0}\n                  max={24}\n                  step={3}\n                  value={sourceVoltage}\n                  disabled={controlsLocked}\n                  onChange={(e) =>\n                    setSourceVoltage(parseInt(e.target.value, 10))\n                  }\n                />\n                <div className=\"readout\">{sourceVoltage} V</div>\n              </div>\n\n              <div className=\"hintText\">\n                {mode === \"quiz\"\n                  ? \"Quiz mode: controls locked.\"\n                  : \"Click the switch in the diagram to open / close.\"}\n              </div>\n            </div>\n\n            <div className=\"divider\" />\n\n            {/* Loads */}\n            <div className=\"controlGroup\">\n              <div className=\"controlLabel\">Loads</div>\n\n              {Array.from({ length: activeLoadCount }).map((_, i) => (\n                <div key={i} className=\"loadControlCard\">\n                  <div className=\"loadControlHeader\">\n                    <div className=\"loadTitle\">Load {i + 1}</div>\n                    <select\n                      className=\"faultSelect\"\n                      value={loads[i].fault}\n                      disabled={controlsLocked}\n                      onChange={(e) =>\n                        updateLoad(i, { fault: e.target.value as FaultType })\n                      }\n                    >\n                      <option value=\"normal\">Normal</option>\n                      <option value=\"high\">High Resistance</option>\n                      <option value=\"open\">Open Circuit</option>\n                      <option value=\"short\">Short Circuit</option>\n                    </select>\n                  </div>\n\n                  <div className=\"loadControlRow\">\n                    <span className=\"controlLabelSmall\">Ω</span>\n                    <input\n                      className=\"slider\"\n                      type=\"range\"\n                      min={1}\n                      max={25}\n                      step={0.5}\n                      value={loads[i].rUser}\n                      disabled={controlsLocked}\n                      onChange={(e) =>\n                        updateLoad(i, { rUser: parseFloat(e.target.value) })\n                      }\n                    />\n                    <input\n                      className=\"ohmsBox\"\n                      type=\"number\"\n                      min={1}\n                      max={25}\n                      step={0.5}\n                      value={loads[i].rUser}\n                      disabled={controlsLocked}\n                      onChange={(e) =>\n                        updateLoad(i, {\n                          rUser: parseFloat(e.target.value || \"1\"),\n                        })\n                      }\n                    />\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </section>\n\n        {/* CENTER: Circuit */}\n        <section className=\"panel panelBorder centerPanel\">\n          <div className=\"panelHeader\">Circuit Visualization</div>\n          <div className=\"panelBody\">\n            <CircuitView\n              circuitType={circuitType}\n              loadCount={activeLoadCount}\n              switchClosed={switchClosed}\n              onToggleSwitch={() => {\n                if (mode === \"quiz\") return; // locked\n                setSwitchClosed((s) => !s);\n              }}\n              sourceV={sourceVoltage}\n              hasFlow={calc.hasFlow}\n              elementPowers={calc.elementPowers}\n              branchCurrents={calc.branchCurrents}\n              faults={activeLoads.map((l) => l.fault)}\n            />\n          </div>\n        </section>\n\n        {/* RIGHT: Outputs */}\n        <section className=\"panel panelBorder\">\n          <div className=\"panelHeader\">Outputs</div>\n          <div className=\"panelBody\">\n            <div className=\"rightBlock\">\n              <div className=\"blockTitle\">Summary</div>\n\n              <div className=\"kvRow\">\n                <span className=\"kvKey\">Circuit</span>\n                <span className=\"kvVal\">\n                  {circuitType === \"simple\"\n                    ? \"Simple circuit (1 load)\"\n                    : circuitType === \"series\"\n                    ? `Series circuit (${activeLoadCount} loads)`\n                    : `Parallel circuit (${activeLoadCount} branches)`}\n                </span>\n              </div>\n\n              <div className=\"kvRow\">\n                <span className=\"kvKey\">Source Voltage</span>\n                <span className=\"kvVal\">{round1(calc.sourceV)} V</span>\n              </div>\n\n              <div className=\"kvRow\">\n                <span className=\"kvKey\">Total Resistance</span>\n                <span className=\"kvVal\">\n                  {isFinite(calc.totalR) ? `${round2(calc.totalR)} Ω` : \"∞ Ω\"}\n                </span>\n              </div>\n\n              <div className=\"kvRow\">\n                <span className=\"kvKey\">Total Current</span>\n                <span className=\"kvVal\">{round2(calc.totalI)} A</span>\n              </div>\n\n              <div className=\"kvRow\">\n                <span className=\"kvKey\">Total Power</span>\n                <span className=\"kvVal\">{round1(calc.totalP)} W</span>\n              </div>\n\n              <div className=\"divider subtle\" />\n\n              <div className=\"blockTitle\">Per-Element Table</div>\n              <div className=\"tableWrap\">\n                <table className=\"dataTable\">\n                  <thead>\n                    <tr>\n                      <th>Element</th>\n                      <th>V (V)</th>\n                      <th>I (A)</th>\n                      <th>R (Ω)</th>\n                      <th>P (W)</th>\n                      <th>Status</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {calc.rows.map((r) => (\n                      <tr key={r.label}>\n                        <td>{r.label}</td>\n                        <td>{round2(r.v)}</td>\n                        <td>{round2(r.i)}</td>\n                        <td>{isFinite(r.r) ? round2(r.r) : \"∞\"}</td>\n                        <td>{round1(r.p)}</td>\n                        <td>{prettyStatus(r.status)}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n\n              <div className=\"divider subtle\" />\n\n              <div className=\"blockTitle\">Status</div>\n              {calc.faultNotes.length === 0 ? (\n                <div className=\"statusText\">No faults selected.</div>\n              ) : (\n                <ul className=\"statusList\">\n                  {calc.faultNotes.map((n, i) => (\n                    <li key={i}>{n}</li>\n                  ))}\n                </ul>\n              )}\n\n              {!switchClosed && (\n                <div className=\"statusText\">\n                  Switch is open → circuit current is ~0 A.\n                </div>\n              )}\n\n              {/* Ohm's Law Triangle (keep SVG as requested) */}\n              <div className=\"divider subtle\" />\n              <div className=\"ohmTriangleBox\">\n                <svg\n                  width=\"140\"\n                  height=\"110\"\n                  viewBox=\"0 0 140 110\"\n                  role=\"img\"\n                  aria-label=\"Ohm's Law Triangle\"\n                >\n                  <polygon\n                    points=\"70,10 130,100 10,100\"\n                    fill=\"rgba(120, 255, 180, 0.10)\"\n                    stroke=\"rgba(120, 255, 180, 0.45)\"\n                    strokeWidth=\"2\"\n                  />\n                  <line\n                    x1=\"40\"\n                    y1=\"60\"\n                    x2=\"100\"\n                    y2=\"60\"\n                    stroke=\"rgba(120, 255, 180, 0.45)\"\n                    strokeWidth=\"2\"\n                  />\n                  <line\n                    x1=\"70\"\n                    y1=\"60\"\n                    x2=\"70\"\n                    y2=\"100\"\n                    stroke=\"rgba(120, 255, 180, 0.45)\"\n                    strokeWidth=\"2\"\n                  />\n                  <text\n                    x=\"70\"\n                    y=\"48\"\n                    textAnchor=\"middle\"\n                    fill=\"rgba(220,255,235,0.9)\"\n                    fontSize=\"22\"\n                    fontFamily=\"system-ui, Arial\"\n                  >\n                    V\n                  </text>\n                  <text\n                    x=\"45\"\n                    y=\"88\"\n                    textAnchor=\"middle\"\n                    fill=\"rgba(220,255,235,0.9)\"\n                    fontSize=\"22\"\n                    fontFamily=\"system-ui, Arial\"\n                  >\n                    I\n                  </text>\n                  <text\n                    x=\"95\"\n                    y=\"88\"\n                    textAnchor=\"middle\"\n                    fill=\"rgba(220,255,235,0.9)\"\n                    fontSize=\"22\"\n                    fontFamily=\"system-ui, Arial\"\n                  >\n                    R\n                  </text>\n                </svg>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {/* BOTTOM */}\n        <section className=\"panel panelBorder bottomPanel\">\n          <div className=\"panelHeader\">\n            {mode === \"quiz\"\n              ? `Quiz Question ${quizStep} / ${QUIZ_TOTAL_QUESTIONS}`\n              : \"Show the Math\"}\n          </div>\n\n          <div className=\"panelBody\">\n            {mode === \"demo\" && (\n              <MathPanel\n                circuitType={circuitType}\n                sourceV={calc.sourceV}\n                rows={calc.rows}\n                totalR={calc.totalR}\n                totalI={calc.totalI}\n                faultNotes={calc.faultNotes}\n              />\n            )}\n\n            {mode === \"practice\" && (\n              <PracticePanel\n                showFormulas={showFormulas}\n                switchClosed={switchClosed}\n                question={practiceQuestion}\n                answers={practiceAnswers}\n                setAnswers={setPracticeAnswers}\n                checked={practiceChecked}\n                points={practicePoints}\n                onNew={newPracticeQuestion}\n                onCheck={checkPractice}\n              />\n            )}\n\n            {mode === \"quiz\" && (\n              <QuizPanel\n                showFormulas={true} // quiz always shows formulas per your spec\n                question={quizQuestion}\n                answers={quizAnswers}\n                setAnswers={setQuizAnswers}\n                checked={quizChecked}\n                onSubmit={submitQuizAnswer}\n                quizComplete={quizComplete}\n                quizScore={quizScore}\n                quizPossible={quizPossible}\n              />\n            )}\n          </div>\n        </section>\n      </main>\n\n      <footer className=\"footerBar\">\n        <span className=\"footerText\">\n          ElectraSim v1.0 • Standalone • No sign-in • No data saved\n        </span>\n      </footer>\n    </div>\n  );\n}\n\n/* =========================\n   UI helpers\n   ========================= */\n\nfunction SegButton({\n  active,\n  onClick,\n  children,\n  disabled,\n}: {\n  active: boolean;\n  onClick: () => void;\n  children: React.ReactNode;\n  disabled?: boolean;\n}) {\n  return (\n    <button\n      type=\"button\"\n      className={`segBtn ${active ? \"active\" : \"\"}`}\n      onClick={onClick}\n      disabled={disabled}\n    >\n      {children}\n    </button>\n  );\n}\n\nfunction prettyStatus(s: string) {\n  if (s === \"high\") return \"High Res\";\n  if (s === \"open\") return \"Open Circuit\";\n  if (s === \"short\") return \"Short Circuit\";\n  if (s === \"normal\") return \"Normal\";\n  return s;\n}\n\n/* =========================\n   Bottom Panel Components\n   ========================= */\n\nfunction PracticePanel(props: {\n  showFormulas: boolean;\n  switchClosed: boolean;\n  question: Question | null;\n  answers: Record<string, string>;\n  setAnswers: React.Dispatch<React.SetStateAction<Record<string, string>>>;\n  checked: boolean;\n  points: { got: number; possible: number } | null;\n  onNew: () => void;\n  onCheck: () => void;\n}) {\n  const {\n    showFormulas,\n    switchClosed,\n    question,\n    answers,\n    setAnswers,\n    checked,\n    points,\n    onNew,\n    onCheck,\n  } = props;\n\n  if (!switchClosed) {\n    return (\n      <div className=\"hintText\">\n        <strong>Close the switch to begin.</strong>\n        <div style={{ marginTop: 8, opacity: 0.8 }}>\n          Practice questions are disabled when the switch is open.\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"practiceWrap\">\n      <div className=\"practiceHeaderRow\">\n        <div>\n          <div style={{ fontWeight: 700 }}>\n            {question ? question.title : \"Practice\"}\n          </div>\n          <div className=\"hintText\">\n            {question\n              ? question.prompt\n              : \"Click “New Question” to generate a practice problem from the current circuit.\"}\n          </div>\n        </div>\n\n        <div className=\"practiceButtons\">\n          <button className=\"secondaryButton\" onClick={onNew}>\n            New Question\n          </button>\n          <button\n            className=\"primaryButton\"\n            onClick={onCheck}\n            disabled={!question}\n          >\n            Check Answer\n          </button>\n        </div>\n      </div>\n\n      {question && (\n        <div className=\"qaGrid\">\n          {question.parts.map((p) => {\n            const raw = answers[p.id] ?? \"\";\n            const n = parseStudentNumber(raw);\n            const ok = checked && n !== null && withinTol(n, p.correct, p.tol);\n\n            return (\n              <div key={p.id} className=\"qaCard\">\n                <div className=\"qaLabelRow\">\n                  <div className=\"qaLabel\">{p.label}</div>\n                  {checked && (\n                    <div className={`qaBadge ${ok ? \"ok\" : \"bad\"}`}>\n                      {ok ? \"Correct\" : \"Check\"}\n                    </div>\n                  )}\n                </div>\n\n                {showFormulas && (\n                  <>\n                    <div className=\"qaFormula\">{p.formula}</div>\n                    <div className=\"qaSub\">{p.substitution}</div>\n                  </>\n                )}\n\n                <div className=\"qaInputRow\">\n                  <input\n                    className=\"qaInput\"\n                    value={raw}\n                    onChange={(e) =>\n                      setAnswers((prev) => ({\n                        ...prev,\n                        [p.id]: e.target.value,\n                      }))\n                    }\n                    placeholder={`Enter ${p.unit}`}\n                  />\n                  <div className=\"qaUnit\">{p.unit}</div>\n                </div>\n\n                {checked && !ok && (\n                  <div className=\"qaHint\">\n                    Correct ≈ {fmt(p.correct)} {p.unit}\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      )}\n\n      {points && (\n        <div className=\"quizResult\" style={{ marginTop: 10 }}>\n          <div>\n            Score: {points.got} / {points.possible}\n          </div>\n          <div>\n            Percentage: {Math.round((points.got / points.possible) * 100)}%\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction QuizPanel(props: {\n  showFormulas: boolean;\n  question: Question | null;\n  answers: Record<string, string>;\n  setAnswers: React.Dispatch<React.SetStateAction<Record<string, string>>>;\n  checked: boolean;\n  onSubmit: () => void;\n  quizComplete: boolean;\n  quizScore: number;\n  quizPossible: number;\n}) {\n  const {\n    showFormulas,\n    question,\n    answers,\n    setAnswers,\n    checked,\n    onSubmit,\n    quizComplete,\n    quizScore,\n    quizPossible,\n  } = props;\n\n  if (quizComplete) {\n    const pct =\n      quizPossible > 0 ? Math.round((quizScore / quizPossible) * 100) : 0;\n\n    return (\n      <div className=\"quizResult\">\n        <div>\n          Score: {quizScore} / {quizPossible}\n        </div>\n        <div>Percentage: {pct}%</div>\n        <div className=\"hintText\">Screenshot this result.</div>\n      </div>\n    );\n  }\n\n  if (!question) {\n    return <div className=\"hintText\">Generating quiz…</div>;\n  }\n\n  return (\n    <div className=\"practiceWrap\">\n      <div className=\"practiceHeaderRow\">\n        <div>\n          <div style={{ fontWeight: 700 }}>{question.title}</div>\n          <div className=\"hintText\">{question.prompt}</div>\n        </div>\n\n        <div className=\"practiceButtons\">\n          <button className=\"primaryButton\" onClick={onSubmit}>\n            Submit Answer\n          </button>\n        </div>\n      </div>\n\n      <div className=\"qaGrid\">\n        {question.parts.map((p) => {\n          const raw = answers[p.id] ?? \"\";\n          const n = parseStudentNumber(raw);\n          const ok = checked && n !== null && withinTol(n, p.correct, p.tol);\n\n          return (\n            <div key={p.id} className=\"qaCard\">\n              <div className=\"qaLabelRow\">\n                <div className=\"qaLabel\">{p.label}</div>\n                {checked && (\n                  <div className={`qaBadge ${ok ? \"ok\" : \"bad\"}`}>\n                    {ok ? \"Correct\" : \"Check\"}\n                  </div>\n                )}\n              </div>\n\n              {showFormulas && (\n                <>\n                  <div className=\"qaFormula\">{p.formula}</div>\n                  <div className=\"qaSub\">{p.substitution}</div>\n                </>\n              )}\n\n              <div className=\"qaInputRow\">\n                <input\n                  className=\"qaInput\"\n                  value={raw}\n                  onChange={(e) =>\n                    setAnswers((prev) => ({ ...prev, [p.id]: e.target.value }))\n                  }\n                  placeholder={`Enter ${p.unit}`}\n                />\n                <div className=\"qaUnit\">{p.unit}</div>\n              </div>\n\n              {checked && !ok && (\n                <div className=\"qaHint\">\n                  Correct ≈ {fmt(p.correct)} {p.unit}\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n\n      <div className=\"hintText\" style={{ marginTop: 10, opacity: 0.75 }}>\n        Partial credit is awarded per box. Units are ignored.\n      </div>\n    </div>\n  );\n}\n\n/* =========================\n   Original MathPanel\n   ========================= */\n\nfunction MathPanel({\n  circuitType,\n  sourceV,\n  rows,\n  totalR,\n  totalI,\n  faultNotes,\n}: {\n  circuitType: CircuitType;\n  sourceV: number;\n  rows: {\n    label: string;\n    v: number;\n    i: number;\n    r: number;\n    p: number;\n    status: string;\n  }[];\n  totalR: number;\n  totalI: number;\n  faultNotes: string[];\n}) {\n  const rList = rows.map((r) => r.r);\n  const rText = rList.map((r) => (isFinite(r) ? round2(r) : \"∞\")).join(\" + \");\n\n  const invTerms = rList\n    .map((r) => (isFinite(r) ? `1/${round2(r)}` : \"0\"))\n    .join(\" + \");\n\n  const vDrops = rows.map((r) => `${r.label}: ${round2(r.v)}V`).join(\" | \");\n  const iBranches = rows.map((r) => `${r.label}: ${round2(r.i)}A`).join(\" | \");\n\n  return (\n    <div className=\"mathGrid\">\n      <div className=\"mathSteps\">\n        <div className=\"stepLine\">\n          <span className=\"stepLabel\">Step 1:</span>\n          <span className=\"stepText\">\n            Find Total Resistance{\" \"}\n            {circuitType === \"series\" && (\n              <>\n                <div className=\"mathMini\">Rtotal = R1 + R2 + …</div>\n                <div className=\"mathMini\">\n                  Rtotal = {rText} ={\" \"}\n                  {isFinite(totalR) ? `${round2(totalR)}Ω` : \"∞Ω\"}\n                </div>\n              </>\n            )}\n            {circuitType === \"parallel\" && (\n              <>\n                <div className=\"mathMini\">1/Rtotal = 1/R1 + 1/R2 + …</div>\n                <div className=\"mathMini\">1/Rtotal = {invTerms}</div>\n                <div className=\"mathMini\">\n                  Rtotal = {isFinite(totalR) ? `${round2(totalR)}Ω` : \"∞Ω\"}\n                </div>\n              </>\n            )}\n            {circuitType === \"simple\" && (\n              <>\n                <div className=\"mathMini\">Rtotal = R1</div>\n                <div className=\"mathMini\">\n                  Rtotal = {isFinite(totalR) ? `${round2(totalR)}Ω` : \"∞Ω\"}\n                </div>\n              </>\n            )}\n          </span>\n        </div>\n\n        <div className=\"stepLine\">\n          <span className=\"stepLabel\">Step 2:</span>\n          <span className=\"stepText\">\n            Find Total Current (I = V / Rtotal)\n            <div className=\"mathMini\">\n              I = {round2(sourceV)} / {isFinite(totalR) ? round2(totalR) : \"∞\"}{\" \"}\n              = {round2(totalI)} A\n            </div>\n          </span>\n        </div>\n\n        <div className=\"stepLine\">\n          <span className=\"stepLabel\">Step 3:</span>\n          <span className=\"stepText\">\n            {circuitType === \"series\"\n              ? \"Voltage drops: Vn = I × Rn\"\n              : circuitType === \"parallel\"\n              ? \"Branch currents: In = V / Rn\"\n              : \"Load values\"}\n            <div className=\"mathMini\">\n              {circuitType === \"series\" ? vDrops : iBranches}\n            </div>\n          </span>\n        </div>\n\n        <div className=\"stepLine\">\n          <span className=\"stepLabel\">Step 4:</span>\n          <span className=\"stepText\">\n            Check sums\n            <div className=\"mathMini\">\n              {circuitType === \"series\"\n                ? \"Sum of voltage drops ≈ Source voltage\"\n                : circuitType === \"parallel\"\n                ? \"Sum of branch currents ≈ Total current\"\n                : \"N/A\"}\n            </div>\n            {faultNotes.length > 0 && (\n              <div className=\"mathMini\">Fault note(s): {faultNotes[0]}</div>\n            )}\n          </span>\n        </div>\n      </div>\n\n      <div className=\"mathControls\">\n        <div className=\"mathModeHint\">\n          Demonstration mode: values and substitutions shown live.\n        </div>\n        <div className=\"hintText\">\n          Select Practice mode or Quiz mode to test your knowledge.\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}